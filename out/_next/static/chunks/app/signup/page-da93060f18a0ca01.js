(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{3195:function(e,s,a){Promise.resolve().then(a.bind(a,5127))},5127:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return R}});var t=a(7437),r=a(2265),l=a(1396),n=a.n(l),i=a(4033),o=a(8110),c=a(1865),d=a(4578),m=a(4860),u=a(7290),x=a(7216),p=a(9670),h=a(3023),f=a(1315),j=a(1908),N=a(7749),g=a(2621),y=a(3947),w=a(9639),b=a(3523),v=a(9224),z=a(2442),C=a(9311);let _=w.fC;w.ZA;let Z=w.B4,P=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(w.xz,{ref:s,className:(0,C.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...l,children:[r,(0,t.jsx)(w.JO,{asChild:!0,children:(0,t.jsx)(b.Z,{className:"h-4 w-4 opacity-50"})})]})});P.displayName=w.xz.displayName;let I=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(w.u_,{ref:s,className:(0,C.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(v.Z,{className:"h-4 w-4"})})});I.displayName=w.u_.displayName;let k=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(w.$G,{ref:s,className:(0,C.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(b.Z,{className:"h-4 w-4"})})});k.displayName=w.$G.displayName;let Y=r.forwardRef((e,s)=>{let{className:a,children:r,position:l="popper",...n}=e;return(0,t.jsx)(w.h_,{children:(0,t.jsxs)(w.VY,{ref:s,className:(0,C.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,t.jsx)(I,{}),(0,t.jsx)(w.l_,{className:(0,C.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(k,{})]})})});Y.displayName=w.VY.displayName;let L=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(w.__,{ref:s,className:(0,C.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})});L.displayName=w.__.displayName;let M=r.forwardRef((e,s)=>{let{className:a,children:r,...l}=e;return(0,t.jsxs)(w.ck,{ref:s,className:(0,C.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...l,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(w.wU,{children:(0,t.jsx)(z.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(w.eT,{children:r})]})});M.displayName=w.ck.displayName;let W=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(w.Z0,{ref:s,className:(0,C.cn)("-mx-1 my-1 h-px bg-muted",a),...r})});W.displayName=w.Z0.displayName;let G=d.Ry({firstName:d.Z_().min(2,{message:"First name must be at least 2 characters."}),lastName:d.Z_().min(2,{message:"Last name must be at least 2 characters."}),email:d.Z_().email({message:"Please enter a valid email address."}),contact_number:d.Z_().optional(),specialization:d.Z_().min(1,{message:"Please select your specialization."}),password:d.Z_().min(8,{message:"Password must be at least 8 characters."}),confirmPassword:d.Z_().min(8,{message:"Password must be at least 8 characters."}),terms:d.O7().refine(e=>!0===e,{message:"You must agree to the terms and conditions."})}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),J=["General Practitioner","Cardiology","Dermatology","Pediatrics","Neurology","Orthopedics","Ophthalmology","Psychiatry","Endocrinology","Gastroenterology","Radiology"];function R(){let{toast:e}=(0,g.pm)(),s=(0,i.useRouter)(),[a,l]=(0,r.useState)(!1),[d,w]=(0,r.useState)(!1),[b,v]=(0,r.useState)(!1),[z,C]=(0,r.useState)(!1),[I,k]=(0,r.useState)(1),L=(0,c.cI)({resolver:(0,o.F)(G),defaultValues:{firstName:"",lastName:"",email:"",contact_number:"",specialization:"",password:"",confirmPassword:"",terms:!1}});return(0,r.useEffect)(()=>{if(z){let e=setInterval(()=>{k(a=>{let t=Math.max(a-.05,0);return t<=0&&(clearInterval(e),s.push("/onboarding")),t})},20);return()=>clearInterval(e)}},[z,s]),(0,t.jsx)(u.F,{children:(0,t.jsx)("div",{style:{opacity:I,transition:"opacity 0.5s ease"},children:(0,t.jsxs)(y.g,{title:"Create an account",subtitle:"Sign up to get started with Dr House",imageUrl:"https://imgs.search.brave.com/6caUJero8Y-uD3L1Jk7Mqa-K1HO11BtQotU0-DGZvA0/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly9lYXN5/LXBlYXN5LmFpL2Nk/bi1jZ2kvaW1hZ2Uv/cXVhbGl0eT04MCxm/b3JtYXQ9YXV0byx3/aWR0aD03MDAvaHR0/cHM6Ly9tZWRpYS5l/YXN5LXBlYXN5LmFp/LzY0MzEwMjVjLWVj/NmItNDAwNi1iOTVi/LTdlZjI3YzY3MWJi/Yi83MWFiY2M0Mi1h/ZjAwLTQ0MTYtYjc5/My1lMWE5MjQ3NTE2/ODUucG5n",children:[(0,t.jsx)(f.l0,{...L,children:(0,t.jsxs)("form",{onSubmit:L.handleSubmit(function(s){l(!0);let a={firstName:s.firstName,lastName:s.lastName,email:s.email,contactNumber:s.contact_number,specialization:s.specialization,password:s.password,confirmPassword:s.confirmPassword,agreeToTerms:s.terms};fetch("https://content-panel.lvl.fit/drhouse/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(async e=>{let s=await e.json();if(!e.ok)throw Error(s.message||"Signup failed");return s}).then(s=>{if(l(!1),s.user&&s.token){let e={id:s.user.id,firstName:s.user.firstName,lastName:s.user.lastName,email:s.user.email,contactNumber:s.user.contactNumber,specialization:s.user.specialization};(0,m.A3)(s.token,e)}e({title:"Account created",description:"Welcome to Dr House. Let's set up your profile."}),C(!0)}).catch(s=>{l(!1),e({title:"Signup failed",description:s.message||"Please check your information and try again",variant:"destructive"})})}),className:"space-y-8 w-full sm:max-w-md md:max-w-lg mx-auto border rounded-xl p-6 md:p-8 shadow-md bg-white/50 backdrop-blur-sm",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)(f.Wi,{control:L.control,name:"firstName",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(j.I,{className:"h-14 px-4 w-full text-base",placeholder:"First Name",autoComplete:"given-name",...s})}),(0,t.jsx)(f.zG,{})]})}}),(0,t.jsx)(f.Wi,{control:L.control,name:"lastName",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(j.I,{className:"h-14 px-4 w-full text-base",placeholder:"Last Name",autoComplete:"family-name",...s})}),(0,t.jsx)(f.zG,{})]})}})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)(f.Wi,{control:L.control,name:"email",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(j.I,{className:"h-14 px-4 w-full text-base",placeholder:"Email Address",autoComplete:"email",...s})}),(0,t.jsx)(f.zG,{})]})}}),(0,t.jsx)(f.Wi,{control:L.control,name:"contact_number",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(j.I,{className:"h-14 px-4 w-full text-base",placeholder:"Contact Number",autoComplete:"tel",...s})}),(0,t.jsx)(f.zG,{})]})}})]}),(0,t.jsx)(f.Wi,{control:L.control,name:"specialization",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsxs)(_,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(P,{className:"h-14 px-4 w-full text-base",children:(0,t.jsx)(Z,{placeholder:"Select your specialization"})})}),(0,t.jsx)(Y,{children:J.map(e=>(0,t.jsx)(M,{value:e,children:e},e))})]}),(0,t.jsx)(f.zG,{})]})}}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsx)(f.Wi,{control:L.control,name:"password",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(j.I,{className:"h-14 px-4 pr-10 w-full text-base",type:d?"text":"password",placeholder:"Password",autoComplete:"new-password",...s})}),(0,t.jsx)("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>w(!d),children:d?(0,t.jsx)(x.Z,{size:20}):(0,t.jsx)(p.Z,{size:20})})]}),(0,t.jsx)(f.zG,{})]})}}),(0,t.jsx)(f.Wi,{control:L.control,name:"confirmPassword",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(j.I,{className:"h-14 px-4 pr-10 w-full text-base",type:b?"text":"password",placeholder:"Confirm Password",autoComplete:"new-password",...s})}),(0,t.jsx)("button",{type:"button",className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",onClick:()=>v(!b),children:b?(0,t.jsx)(x.Z,{size:20}):(0,t.jsx)(p.Z,{size:20})})]}),(0,t.jsx)(f.zG,{})]})}})]}),(0,t.jsx)(f.Wi,{control:L.control,name:"terms",render:e=>{let{field:s}=e;return(0,t.jsxs)(f.xJ,{className:"flex items-center space-x-3 space-y-0 rounded-md border p-5",children:[(0,t.jsx)(f.NI,{children:(0,t.jsx)(N.X,{checked:s.value,onCheckedChange:s.onChange})}),(0,t.jsx)("div",{className:"text-base leading-none",children:(0,t.jsxs)("label",{className:"font-medium cursor-pointer",children:["I agree to the"," ",(0,t.jsx)(n(),{href:"/terms",className:"text-primary hover:underline",children:"Terms and Conditions"})," ","and"," ",(0,t.jsx)(n(),{href:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})}),(0,t.jsx)(f.zG,{})]})}}),(0,t.jsx)(h.z,{type:"submit",className:"w-full h-14 text-lg font-medium mt-4",disabled:a,children:a?"Creating account...":"Create account"})]})}),(0,t.jsxs)("p",{className:"mt-8 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",(0,t.jsx)(n(),{href:"/login",className:"font-medium text-primary hover:text-primary/80",children:"Log in"})]})]})})})}}},function(e){e.O(0,[7,724,193,18,401,49,811,971,864,744],function(){return e(e.s=3195)}),_N_E=e.O()}]);